<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>ember-bdd docs</title>
    <meta name="description" content="Docs for ember-bdd, a Cucumber-like BDD testing solution for Ember">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="og:title" content="ember-bdd docs">
    <meta name="og:description" content="Docs for ember-bdd, a Cucumber-like BDD testing solution for Ember">
    <meta name="og:locale" content="en-US">

    
<meta name="docs-app/config/environment" content="%7B%22environment%22%3A%22production%22%2C%22modulePrefix%22%3A%22docs-app%22%2C%22podModulePrefix%22%3A%22docs-app%2Fpods%22%2C%22rootURL%22%3A%22%2Fember-bdd%2F%22%2C%22locationType%22%3A%22auto%22%2C%22apiNamespace%22%3A%22%22%2C%22apiHost%22%3A%22%22%2C%22EmberENV%22%3A%7B%22FEATURES%22%3A%7B%22EMBER_METAL_TRACKED_PROPERTIES%22%3Atrue%7D%2C%22EXTEND_PROTOTYPES%22%3A%7B%22Date%22%3Afalse%7D%2C%22_APPLICATION_TEMPLATE_WRAPPER%22%3Afalse%2C%22_DEFAULT_ASYNC_OBSERVERS%22%3Atrue%2C%22_JQUERY_INTEGRATION%22%3Afalse%2C%22_TEMPLATE_ONLY_GLIMMER_COMPONENTS%22%3Atrue%7D%2C%22APP%22%3A%7B%22LOG_RESOLVER%22%3Afalse%2C%22LOG_ACTIVE_GENERATION%22%3Afalse%2C%22LOG_TRANSITIONS%22%3Afalse%2C%22LOG_TRANSITIONS_INTERNAL%22%3Afalse%2C%22LOG_VIEW_LOOKUPS%22%3Afalse%2C%22name%22%3A%22docs-app%22%2C%22version%22%3A%220.0.0%2B63c5ffbd%22%7D%2C%22fastboot%22%3A%7B%22hostWhitelist%22%3A%5B%7B%7D%5D%7D%2C%22exportApplicationGlobal%22%3Afalse%7D" />
<!-- EMBER_CLI_FASTBOOT_TITLE -->

    <link integrity="" rel="stylesheet" href="/ember-bdd/assets/vendor-d41d8cd98f00b204e9800998ecf8427e.css">
    <link integrity="" rel="stylesheet" href="/ember-bdd/assets/docs-app-19e02fa591a445b08bcc8ebeabafea30.css">

    
    <link rel="shortcut icon" href="/ember-bdd/favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="/ember-bdd/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/ember-bdd/favicon-32x32.png">
    <link rel="manifest" href="/ember-bdd/manifest.json">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#fff">
    <meta name="application-name" content="ember-bdd docs">
    <link rel="apple-touch-icon" sizes="57x57" href="/ember-bdd/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/ember-bdd/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/ember-bdd/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/ember-bdd/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/ember-bdd/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/ember-bdd/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/ember-bdd/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/ember-bdd/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="167x167" href="/ember-bdd/apple-touch-icon-167x167.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/ember-bdd/apple-touch-icon-180x180.png">
    <link rel="apple-touch-icon" sizes="1024x1024" href="/ember-bdd/apple-touch-icon-1024x1024.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="ember-bdd docs">
    <link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 1)" href="/ember-bdd/apple-touch-startup-image-320x460.png">
    <link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 2)" href="/ember-bdd/apple-touch-startup-image-640x920.png">
    <link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)" href="/ember-bdd/apple-touch-startup-image-640x1096.png">
    <link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)" href="/ember-bdd/apple-touch-startup-image-750x1294.png">
    <link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 3)" href="/ember-bdd/apple-touch-startup-image-1182x2208.png">
    <link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 3)" href="/ember-bdd/apple-touch-startup-image-1242x2148.png">
    <link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 1)" href="/ember-bdd/apple-touch-startup-image-748x1024.png">
    <link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 1)" href="/ember-bdd/apple-touch-startup-image-768x1004.png">
    <link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 2)" href="/ember-bdd/apple-touch-startup-image-1496x2048.png">
    <link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 2)" href="/ember-bdd/apple-touch-startup-image-1536x2008.png">
    <link rel="icon" type="image/png" sizes="228x228" href="/ember-bdd/coast-228x228.png">
    <meta name="msapplication-TileColor" content="#fff">
    <meta name="msapplication-TileImage" content="/ember-bdd/mstile-144x144.png">
    <meta name="msapplication-config" content="/ember-bdd/browserconfig.xml">
    <link rel="yandex-tableau-widget" href="/ember-bdd/yandex-browser-manifest.json">
  </head>
  <body>
    <script type="x/boundary" id="fastboot-body-start"></script><div class="Route-Application">
  <header class="Route-Application-Header">
    <div>
      <h2>ember-bdd</h2>

      <p>
        A Cucumber-style BDD testing solution for Ember
      </p>
    </div>

      <ul class="Toc Route-Application-Toc">
      <a href="/ember-bdd/" id="ember101" class="ember-view Toc-Item-Link link">
        What and Why
      </a>

      <li class="Toc-Item">
          <span class="Toc-Item-Link _empty">
            Concept
          </span>

          <ul class="Toc">
<!---->
      <li class="Toc-Item">
          <a href="/ember-bdd/concept/glossary" id="ember102" class="ember-view Toc-Item-Link link">
            Glossary
          </a>

        <!---->
      </li>
      <li class="Toc-Item">
          <a href="/ember-bdd/concept/truth" id="ember103" class="ember-view Toc-Item-Link link">
            Truth to feature files
          </a>

        <!---->
      </li>
      <li class="Toc-Item">
          <a href="/ember-bdd/concept/labels" id="ember104" class="ember-view Toc-Item-Link link">
            Labels for test selectors
          </a>

        <!---->
      </li>
      <li class="Toc-Item">
          <a href="/ember-bdd/concept/composing" id="ember105" class="ember-view Toc-Item-Link link">
            Composing step implementations
          </a>

        <!---->
      </li>
      <li class="Toc-Item">
          <a href="/ember-bdd/concept/debugging" id="ember106" class="ember-view Toc-Item-Link link">
            Debugging
          </a>

        <!---->
      </li>
  </ul>

      </li>
      <li class="Toc-Item">
          <span class="Toc-Item-Link _empty">
            Usage
          </span>

          <ul class="Toc">
<!---->
      <li class="Toc-Item">
          <a href="/ember-bdd/usage/project-structure" id="ember107" class="ember-view Toc-Item-Link link">
            Project Structure
          </a>

        <!---->
      </li>
      <li class="Toc-Item">
          <a href="/ember-bdd/usage/dictionary" id="ember108" class="active ember-view Toc-Item-Link link">
            Dictionary
          </a>

        <!---->
      </li>
      <li class="Toc-Item">
          <a href="/ember-bdd/usage/annotations" id="ember109" class="ember-view Toc-Item-Link link">
            Annotations
          </a>

        <!---->
      </li>
  </ul>

      </li>
  </ul>

  </header>

  <main class="Route-Application-Content">
    <div class="Route-Application-Content-Inner">
      <div class="Route-Page">
  <div class="Route-Page-Content">
    
<h1 id="thedictionary">The dictionary</h1>
<h2 id="usingregularexpressionsinstepnames">Using regular expressions in step names</h2>
<p>Yadda allows usage of regualr expressions in step names, emabling step implementations to be highly reusable.</p>
<p>Here's an example of a step implementation with a regular expression:</p>
<pre><code class="feature language-feature">Then the page title should be "Hello World"
</code></pre>
<pre><code class="js language-js">{
  'Then the page title should be (.+)'(expectedStr) {
    expectedStr; // =&gt; 'Hello World'
    expect(window.document.title).equal(expectedStr);
  }
}
</code></pre>
<p>Each capturing group is represented by an argument of the step implementation function, in the order of appearance.</p>
<h2 id="usingundefinedmarcos">Using undefined marcos</h2>
<p>You can use macros in the form of <code>$macroName</code> in place of regular expressions.</p>
<p>If you have not defined the macro you're using, then it will <a href="https://github.com/acuminous/yadda/blob/v2.1.0/lib/Dictionary.js#L69">default to</a> the <code>(.+)</code> regular expressuon.</p>
<pre><code class="feature language-feature">Then the page title should be "Hello World"
</code></pre>
<pre><code class="js language-js">{
  'Then the page title should be $str'(expectedStr) {
    expectedStr; // =&gt; 'Hello World'
    expect(window.document.title).equal(expectedStr);
  }
}
</code></pre>
<p>⚠ We do not recommend using undefined macros due to their ambiguity. Either use regular expressions explicitly or use defined macros with narrow purpose.</p>
<h2 id="definingmacros">Defining macros</h2>
<p>Macros go into the <em>dictionary</em> located at:</p>
<pre><code>tests/bdd/dictionary.js
</code></pre>
<p>This file should have a default export of an object: a record with macro definitions.</p>
<p>There are a number of ways to define a macro:</p>
<pre><code class="js language-js">  export default {
    // A regular expression with a capturing group
    $email: /(.+?@.+)/, // john.doe@example.com

    // A regular expression with multiple capturing groups
    $fullName: /(.+?) (.+?)/, // John Doe

    // An alias delegating to another macro
    $eMail: '$email',

    // An alias delegating to multiple aliases
    $fullNameWithEmail: '$fullName &lt;$email&gt;', // John Doe &lt;john.doe@example.com&gt;

    // A tuple of a regular expression and a converter function
    $index: [
      /(\d+)/,
      (numberStr) =&gt; parseInt(numberStr, 10) - 1;
    ],
  };
</code></pre>
<h2 id="implementingconverters">Implementing converters</h2>
<p>All values extracted by regular expressions come as strings. A converter lets you convert a string into something else:</p>
<ul>
<li>a modified string;</li>
<li>a number;</li>
<li>a <code>Date</code> object;</li>
<li>a DOM element from the DOM;</li>
<li>a database record (in case you're using a frontend data layer such as <a href="https://miragejs.com">Mirage</a>);</li>
<li>etc.</li>
</ul>
<p>A converter is a function that accepts strings from capturing groups and returns a value for your step implemenation to consume:</p>
<pre><code class="feature language-feature">Then the 2nd .title should be "Hello world"
</code></pre>
<pre><code class="js language-js">export default {
  $index: [
    /(\d+)(?:st|nd|rd|th)/, // ?: means a non-capturing group
    (numberStr) =&gt; parseInt(numberStr, 10) - 1,
  ],

  $collection: [
    /(.+)/,
    (selector) =&gt; Array.from(document.querySelectorAll(selector)),
  ],
}
</code></pre>
<pre><code class="js language-js">import { expect } from 'chai';

export default {
  'Then the $element should be $quotedString'(element, text) {
    expect(element, 'Element not found').ok;
    expect(element.textContent.trim()).equal(text);
  }
}
</code></pre>

  </div>


  <div class="Route-Page-Links">
        <a href="/ember-bdd/usage/project-structure" id="ember110" class="ember-view Route-Page-Links-Link _back">
          ← Project Structure
        </a>

      <a href="/ember-bdd/usage/annotations" id="ember111" class="ember-view Route-Page-Links-Link _forward">
        Annotations →
      </a>
  </div>
</div>

    </div>
  </main>
</div>
<script type="fastboot/shoebox" id="shoebox-pages">[{"type":"pages","id":"concept","attributes":{"title":"Concept","index":1,"sectionOnly":true}},{"type":"pages","id":"concept/composing","attributes":{"title":"Composing step implementations","index":4}},{"type":"pages","id":"concept/debugging","attributes":{"title":"Debugging","index":5}},{"type":"pages","id":"concept/glossary","attributes":{"title":"Glossary","index":1}},{"type":"pages","id":"concept/labels","attributes":{"title":"Labels for test selectors","index":3}},{"type":"pages","id":"concept/truth","attributes":{"title":"Truth to feature files","index":2}},{"type":"pages","id":"index","attributes":{"title":"What and Why"}},{"type":"pages","id":"usage","attributes":{"title":"Usage","index":2,"sectionOnly":true}},{"type":"pages","id":"usage/annotations","attributes":{"title":"Annotations","index":3}},{"type":"pages","id":"usage/dictionary","attributes":{"title":"Dictionary","index":2}},{"type":"pages","id":"usage/project-structure","attributes":{"title":"Project Structure","index":1}}]</script><script type="fastboot/shoebox" id="shoebox-pages usage__dictionary">{"type":"pages","id":"usage/dictionary","attributes":{"html":"\u003ch1 id=\"thedictionary\"\u003eThe dictionary\u003c/h1\u003e\n\u003ch2 id=\"usingregularexpressionsinstepnames\"\u003eUsing regular expressions in step names\u003c/h2\u003e\n\u003cp\u003eYadda allows usage of regualr expressions in step names, emabling step implementations to be highly reusable.\u003c/p\u003e\n\u003cp\u003eHere's an example of a step implementation with a regular expression:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"feature language-feature\"\u003eThen the page title should be \"Hello World\"\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"js language-js\"\u003e{\n  'Then the page title should be (.+)'(expectedStr) {\n    expectedStr; // =\u0026gt; 'Hello World'\n    expect(window.document.title).equal(expectedStr);\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eEach capturing group is represented by an argument of the step implementation function, in the order of appearance.\u003c/p\u003e\n\u003ch2 id=\"usingundefinedmarcos\"\u003eUsing undefined marcos\u003c/h2\u003e\n\u003cp\u003eYou can use macros in the form of \u003ccode\u003e$macroName\u003c/code\u003e in place of regular expressions.\u003c/p\u003e\n\u003cp\u003eIf you have not defined the macro you're using, then it will \u003ca href=\"https://github.com/acuminous/yadda/blob/v2.1.0/lib/Dictionary.js#L69\"\u003edefault to\u003c/a\u003e the \u003ccode\u003e(.+)\u003c/code\u003e regular expressuon.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"feature language-feature\"\u003eThen the page title should be \"Hello World\"\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"js language-js\"\u003e{\n  'Then the page title should be $str'(expectedStr) {\n    expectedStr; // =\u0026gt; 'Hello World'\n    expect(window.document.title).equal(expectedStr);\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e⚠ We do not recommend using undefined macros due to their ambiguity. Either use regular expressions explicitly or use defined macros with narrow purpose.\u003c/p\u003e\n\u003ch2 id=\"definingmacros\"\u003eDefining macros\u003c/h2\u003e\n\u003cp\u003eMacros go into the \u003cem\u003edictionary\u003c/em\u003e located at:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003etests/bdd/dictionary.js\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThis file should have a default export of an object: a record with macro definitions.\u003c/p\u003e\n\u003cp\u003eThere are a number of ways to define a macro:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"js language-js\"\u003e  export default {\n    // A regular expression with a capturing group\n    $email: /(.+?@.+)/, // john.doe@example.com\n\n    // A regular expression with multiple capturing groups\n    $fullName: /(.+?) (.+?)/, // John Doe\n\n    // An alias delegating to another macro\n    $eMail: '$email',\n\n    // An alias delegating to multiple aliases\n    $fullNameWithEmail: '$fullName \u0026lt;$email\u0026gt;', // John Doe \u0026lt;john.doe@example.com\u0026gt;\n\n    // A tuple of a regular expression and a converter function\n    $index: [\n      /(\\d+)/,\n      (numberStr) =\u0026gt; parseInt(numberStr, 10) - 1;\n    ],\n  };\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"implementingconverters\"\u003eImplementing converters\u003c/h2\u003e\n\u003cp\u003eAll values extracted by regular expressions come as strings. A converter lets you convert a string into something else:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ea modified string;\u003c/li\u003e\n\u003cli\u003ea number;\u003c/li\u003e\n\u003cli\u003ea \u003ccode\u003eDate\u003c/code\u003e object;\u003c/li\u003e\n\u003cli\u003ea DOM element from the DOM;\u003c/li\u003e\n\u003cli\u003ea database record (in case you're using a frontend data layer such as \u003ca href=\"https://miragejs.com\"\u003eMirage\u003c/a\u003e);\u003c/li\u003e\n\u003cli\u003eetc.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eA converter is a function that accepts strings from capturing groups and returns a value for your step implemenation to consume:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"feature language-feature\"\u003eThen the 2nd .title should be \"Hello world\"\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"js language-js\"\u003eexport default {\n  $index: [\n    /(\\d+)(?:st|nd|rd|th)/, // ?: means a non-capturing group\n    (numberStr) =\u0026gt; parseInt(numberStr, 10) - 1,\n  ],\n\n  $collection: [\n    /(.+)/,\n    (selector) =\u0026gt; Array.from(document.querySelectorAll(selector)),\n  ],\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"js language-js\"\u003eimport { expect } from 'chai';\n\nexport default {\n  'Then the $element should be $quotedString'(element, text) {\n    expect(element, 'Element not found').ok;\n    expect(element.textContent.trim()).equal(text);\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e","title":"Dictionary","index":2}}</script><script type="x/boundary" id="fastboot-body-end"></script>

    <div class="loading-overlay" id="app-loading">
      <div class="spinner-border text-primary" role="status"><span class="sr-only">Lade...</span></div>
    </div>
    <style>
      .loading-overlay {
        position: fixed;
        left: 50vw;
        top: 50vh;
        transform: translate(-50%,-50%);
      }
    </style>

    <script src="/ember-bdd/assets/vendor-a0cb48ad5e9b18d1a884ae92da33e4ea.js"></script>
    <script src="/ember-bdd/assets/docs-app-1b93dcd520168cb0f77ff4b01fbc8bcd.js"></script>

    
  </body>
</html>
